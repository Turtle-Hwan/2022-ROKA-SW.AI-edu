# 01 1주차 Node.js 소개와 설치
## 01
---

## Node.js란?
Node.js는 서버사이드 JS, V8 기반 구성  

이벤트 기반 개발 가능, Non-Blocking I/O 지원하기 때문에 비동기식 프로그래밍 가능 => I/O 부하가 심한 대규모 서비스 개발에 적합.

JS 표준라이브러리 프로젝트인 CommonJS 스펙 따름.

Python의 Twisted, Perl Object Environment, C의 libevent, Ruby의 EventMachine 등 비동기 프로그래밍 모델 존재.

### 노드의 탄생 배경
2009년 라이언 달이 고안.

다수의 연결을 효율적으로 관리하고, 비용을 최소화하는 네트워크 소프트웨어를 개발하는 편리한 방법 제공 위해 개발됨.

최초의 네트워크 (서버사이드) 개발은 CGI라 해서 펄 등의 스크립트를 이용했다. 이후에는 ASP, JSP, PHP 등 서버사이드 웹앱 개발 전용 스크립트 언어가 나왔다.

웹 앱을 개발한다 하면 일반적으로 아파치 같은 웹 서버에서 동작하게 된다. 이때 어떤 클라이언트가 웹 서버로 연결을 요청하면 일정한 메모리 공간을 사용하여 새로운 쓰레드를 생성한다. 
이런 형태로 웹 앱을 개발하여 서비스를 제공하면 더 많은 사용자를 지원하기 위해 사업자는 더 많은 서버를 추가해야 한다. 이는 서버 구매 비용에 운영 비용, 신규 트래픽 비용, 인건비 등 여러 비용을 발생시킨다는 문제가 있다. 여러 대의 서버를 사용하더라도 사용자 입장에서는 하나의 서버에 접속하는 경험을 주어야 하므로 모든 서버는 같은 데이터를 동기화 해야 한다는 문제도 발생한다.

노드는 서버에서 클라이언트로부터의 요청, 연결을 처리하는 방법을 새로운 컨셉으로 변경하여 이 문제를 해결한다. 기존에는 각 연결마다 새로운 쓰레드를 생성하고, 이에 따른 메모리를 할당하여 사용자 요청을 처리했다면, 노드에서는 각 연결이 하나의 이벤트로 노드 엔진에서 처리된다.

### 노드를 사용하는 서비스들
월마트 : 하이브리드 앱 스타일로 구현, 기능 대부분은 노드를 통해 서버 사이드에서 작동

링크드인 : 노드와 mongoDB 이용, 원래 Ruby On Rails로 돌릴 땐 15대 서버에서 15개 인스턴스로 돌리다, 노드로는 두 배의 트래픽을 4개의 인스턴스로 운영 가능하다고 밝힘.
노드로 VNC 클라이언트 구현??!

Cloud9 IDE : 가장 널리 쓰이는 웹 기반 IDE, 노드로 개발됨.




## 02
---
## 이벤트 기반 비동기 방식
노드가 성능이 뛰어난 이유 : 비동기 이벤트 기반 아키텍처 / 구글의 V8 JS 엔진 이용

### 쓰레드 기반 vs 비동기 이벤트 기반
지금까지 대부분의 애플리케이션은 Blocking I/O를 사용했고, 이 때문에 멀티 쓰레드를 사용할 수밖에 없었다. 멀티 쓰레드는 개발자 입장에서 직관적이고 멀티 태스킹을 위해서 어쩔 수 없는 선택이지만, 네트워크에서 동시에 대규모 요청을 처리하는 데는 부적절하다.

### Blocking I/O
Blocking I/O : 하나의 프로세스가 어떤 자원을 사용하고자 할 때 그 자원을 다른 프로세스가 점유하고 있다면, 사용을 마칠 때까지 기다려야 한다는 것.

애플리케이션이 운영체제의 커널에게 파일을 읽기 위해 시스템 콜이라는 형태로 요청을 보내면 커널은 파일을 읽고, 애플리케이션은 커널이 파일을 다 읽을 때까지 기다려야 한다. 이 상태가 Blocked이며 애플리케이션은 아무것도 하지 않는다.

### 멀티 쓰레드
일반적으로 하나의 프로세스가 하나의 요청에 대응하고 일을 처리한다. 만약 웹서버처럼 다수의 요청이 들어오면 멀티 쓰레드 개념을 사용한다.

CPU의 시분할이라는 개념으로 설명될 수 있으며, 하나의 CPU를 여러 프로세스 또는 쓰레드가 시간을 나누어 동작하도록 함으로써 마치 CPU를 공유하여 사용하는 것과 같은 효과를 낸다.


